<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Preferences</title>
    <link rel="stylesheet" href="../static/css/preferences.css">
</head>
<body>
    {% include 'menu.html' %}
    <div class="preferences-container">
        <div class="preferences-box">
            <h2>Update Your Preferences</h2>
            <form method="POST" action="/preferences">
                <div class="input-box">
                    <label for="sectors">Preferred Sectors:</label>
                    <select id="sectors" name="sectors" multiple required>
                        {% for sector in sectors %}
                            <option value="{{ sector }}" {% if sector in preferences.sectors %}selected{% endif %}>{{ sector }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="input-box">
                    <label for="risk_tolerance">Risk Tolerance:</label>
                    <select id="risk_tolerance" name="risk_tolerance" required>
                        <option value="" disabled {% if not preferences.risk_tolerance %}selected{% endif %}>Select Risk Tolerance</option>
                        <option value="Low" {% if preferences.risk_tolerance == 'Low' %}selected{% endif %}>Low</option>
                        <option value="Medium" {% if preferences.risk_tolerance == 'Medium' %}selected{% endif %}>Medium</option>
                        <option value="High" {% if preferences.risk_tolerance == 'High' %}selected{% endif %}>High</option>
                    </select>
                </div>
                <div class="input-box">
                    <label for="investment_horizon">Investment Horizon:</label>
                    <select id="investment_horizon" name="investment_horizon" required>
                        <option value="" disabled {% if not preferences.investment_horizon %}selected{% endif %}>Select Investment Horizon</option>
                        <option value="Short-term" {% if preferences.investment_horizon == 'Short-term' %}selected{% endif %}>Short-term</option>
                        <option value="Long-term" {% if preferences.investment_horizon == 'Long-term' %}selected{% endif %}>Long-term</option>
                    </select>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>

        <div class="current-preferences-box">
            <h2>Current Preferences</h2>
            <div class="current-preferences">
                <p><strong>Preferred Sectors:</strong> {{ preferences.sectors | join(', ') }}</p>
                <p><strong>Risk Tolerance:</strong> {{ preferences.risk_tolerance }}</p>
                <p><strong>Investment Horizon:</strong> {{ preferences.investment_horizon }}</p>
            </div>
        </div>
    </div>
</body>
</html>
